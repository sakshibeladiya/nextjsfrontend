(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{24654:function(){},7281:function(e,t,r){Promise.resolve().then(r.bind(r,72135)),Promise.resolve().then(r.bind(r,36169)),Promise.resolve().then(r.bind(r,21348)),Promise.resolve().then(r.bind(r,25655)),Promise.resolve().then(r.t.bind(r,25119,23)),Promise.resolve().then(r.bind(r,78676)),Promise.resolve().then(r.bind(r,16558)),Promise.resolve().then(r.bind(r,87293)),Promise.resolve().then(r.bind(r,49268))},23019:function(e,t,r){"use strict";r.d(t,{H:function(){return s},p:function(){return c}});let n=r(68989),a="bf3c199c2470cb477d907b1e0917c17b",o="5183666c72eec9e4",s=e=>{let t=Array.isArray(e)?JSON.stringify(e):e.toString(),r=n.createCipheriv("aes-256-cbc",a,o);return r.update(t,"utf8","base64")+r.final("base64")},c=e=>{let t=n.createDecipheriv("aes-256-cbc",a,o),r=t.update(e,"base64","utf8");r+=t.final("utf8");try{return JSON.parse(r)}catch(e){return r}}},78676:function(e,t,r){"use strict";r.d(t,{ColorModeContextProvider:function(){return h},k:function(){return d}});var n=r(57437),a=r(93062),o=r(64049),s=r(10422),c=r(82156),i=r(21348),l=r(64131),u=r(2265);let d=(0,u.createContext)({}),h=e=>{let{children:t,defaultMode:r}=e,[h,p]=(0,u.useState)(!1),[f,g]=(0,u.useState)(r||"light");(0,u.useEffect)(()=>{p(!0)},[]);let v=(0,c.Z)("(prefers-color-scheme: dark)");return(0,u.useEffect)(()=>{h&&g(l.Z.get("theme")||(v?"dark":"light"))},[h,v]),(0,n.jsx)(d.Provider,{value:{setMode:()=>{let e="light"===f?"dark":"light";g(e),l.Z.set("theme",e)},mode:f},children:(0,n.jsxs)(s.Z,{theme:"light"===f?i.Ae.Blue:i.Ae.BlueDark,children:[(0,n.jsx)(a.ZP,{}),(0,n.jsx)(o.Z,{styles:{html:{WebkitFontSmoothing:"auto"}}}),t]})})}},16558:function(e,t,r){"use strict";r.r(t),r.d(t,{API_URL:function(){return s},authProvider:function(){return i},photos:function(){return c}});var n=r(83464),a=r(64131),o=r(23019),s="",c="";s="http://195.35.22.220:8080/api/";let i={login:async e=>{let{email:t,password:r,remember:c}=e;try{let e={method:"POST",url:"".concat(s,"auth/sales_team/login"),headers:{"content-type":"application/json"},data:{email:t,password:r}},{data:i}=await n.Z.request(e);if(JSON.parse(JSON.stringify(i)),null==i)return{success:!1,error:{name:"LoginError",message:"Invalid username or password"}};{let{message:e,access:t,uuid:r}=i;return a.Z.set("token",(0,o.H)(e),{expires:c?30:1,path:"/"}),a.Z.set("date",(0,o.H)(t.toString()),{expires:c?30:1,path:"/"}),a.Z.set("uuid",r,{expires:c?30:1,path:"/"}),window.location.href="/approvedProjects?pageSize=100&current=1",{success:!0}}}catch(e){return console.error("Login error:",e),{success:!1,error:{name:"LoginError",message:"Invalid username or password"}}}},logout:async()=>(a.Z.remove("date",{path:"/"}),a.Z.remove("date",{path:"/"}),a.Z.remove("token",{path:"/"}),window.location.href="/login",{success:!0}),check:async()=>{let e=a.Z.get("token"),t=a.Z.get("date"),r=a.Z.get("uuid");return e&&t&&r?{authenticated:!0}:{authenticated:!1,logout:!0,redirectTo:"/"}},getPermissions:async()=>a.Z.get("date")||null,getIdentity:async()=>a.Z.get("date")||null,onError:async e=>{var t;return(console.log(e),(null===(t=e.response)||void 0===t?void 0:t.status)===401)?{logout:!0}:{error:e}}}},87293:function(e,t,r){"use strict";r.d(t,{T:function(){return u},myDataProvider:function(){return h},_:function(){return d}});var n=r(88017);let a=e=>{if(e&&e.length>0){let t=[],r=[];return e.map(e=>{t.push(e.field),r.push(e.order)}),{_sort:t,_order:r}}},o=e=>{switch(e){case"ne":case"gte":case"lte":return"_".concat(e);case"contains":return"_like";default:return""}},s=e=>{let t={};return e&&e.map(e=>{if("or"===e.operator||"and"===e.operator)throw Error("[@refinedev/simple-rest]: `operator: ".concat(e.operator,"` is not supported. You can create custom data provider. https://refine.dev/docs/api-reference/core/providers/data-provider/#creating-a-data-provider"));if("field"in e){let{field:r,operator:n,value:a}=e;if("q"===r){t[r]=a;return}let s=o(n);t["".concat(r).concat(s)]=a}}),t};var c=r(83464),i=r(64131);let l=c.Z.create();l.interceptors.request.use(e=>{let t=i.Z.get("uuid");return t&&(e.headers.uuid=t),e},e=>Promise.reject(e)),l.interceptors.response.use(e=>e,e=>{var t,r,n;return Promise.reject({...e,message:null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message,statusCode:null===(n=e.response)||void 0===n?void 0:n.status})});var u="",d="";d="http://195.35.22.220:8080/assets/uploads/";let h={...function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return{getList:async r=>{let{resource:o,pagination:c,filters:i,sorters:l,meta:u}=r;console.log(i,"filters");let d="".concat(e,"/").concat(o),{current:h=1,pageSize:p=10,mode:f="server"}=null!=c?c:{},{headers:g,method:v}=null!=u?u:{},m=s(i),y={};"server"===f&&(y._start=(h-1)*p,y._end=h*p);let b=a(l);if(b){let{_sort:e,_order:t}=b;y._sort=e.join(","),y._order=t.join(",")}let P={...y,...m},w=Object.keys(P).length?"".concat(d,"?").concat((0,n.stringify)(P)):d;var Z={...g};let{data:k,headers:_}=await t[null!=v?v:"get"](w,{headers:Z});return{data:k,total:+_["x-total-count"]||k.length}},getMany:async r=>{let{resource:a,ids:o,meta:s}=r,{headers:c,method:i}=null!=s?s:{},{data:l}=await t[null!=i?i:"get"]("".concat(e,"/").concat(a,"?").concat((0,n.stringify)({id:o})),{headers:c});return{data:l}},create:async r=>{let{resource:n,variables:a,meta:o}=r,s="".concat(e,"/").concat(n),{headers:c,method:i}=null!=o?o:{};var l={...c};let{data:u}=await t[null!=i?i:"post"](s,a,{headers:l});return{data:u}},update:async r=>{let{resource:n,id:a,variables:o,meta:s}=r,c="".concat(e,"/").concat(n,"/").concat(a),{headers:i,method:l}=null!=s?s:{};var u={...i};let{data:d}=await t[null!=l?l:"put"](c,o,{headers:u});return{data:d}},getOne:async r=>{let{resource:n,id:a,meta:o}=r,s="".concat(e,"/").concat(n,"/").concat(a),{headers:c,method:i}=null!=o?o:{},{data:l}=await t[null!=i?i:"get"](s,{headers:c});return{data:l}},deleteOne:async r=>{let{resource:n,id:a,variables:o,meta:s}=r,c="".concat(e,"/").concat(n,"/").concat(a),{headers:i,method:l}=null!=s?s:{},{data:u}=await t[null!=l?l:"delete"](c,{data:o,headers:i});return{data:u}},getApiUrl:()=>e,custom:async e=>{let r,{url:o,method:c,filters:i,sorters:l,payload:u,query:d,headers:h}=e,p="".concat(o,"?");if(l){let e=a(l);if(e){let{_sort:t,_order:r}=e,a={_sort:t.join(","),_order:r.join(",")};p="".concat(p,"&").concat((0,n.stringify)(a))}}if(i){let e=s(i);p="".concat(p,"&").concat((0,n.stringify)(e))}switch(d&&(p="".concat(p,"&").concat((0,n.stringify)(d))),c){case"put":case"post":case"patch":r=await t[c](o,u,{headers:h});break;case"delete":r=await t.delete(o,{data:u,headers:h});break;default:r=await t.get(p,{headers:h})}let{data:f}=r;return Promise.resolve({data:f})}}}(u="http://195.35.22.220:8080/api")}},49268:function(e,t,r){"use strict";r.d(t,{DevtoolsProvider:function(){return o}});var n=r(57437),a=r(60864);r(2265);let o=e=>(0,n.jsxs)(a.$,{children:[e.children,(0,n.jsx)(a.y,{})]})}},function(e){e.O(0,[7999,936,8218,2957,7258,4349,4440,3825,7803,5981,1974,2971,2117,1744],function(){return e(e.s=7281)}),_N_E=e.O()}]);