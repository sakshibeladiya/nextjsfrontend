(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6930],{24654:function(){},84011:function(e,t,n){Promise.resolve().then(n.bind(n,42228))},42228:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(57437),a=n(74799),i=n(72135),l=n(21348),o=n(23019);n(2265);var d=n(54321),c=n(89800),u=n(91991);function s(){var e,t;let n=(0,d.useCookies)(),s=null!=n.get("date")?(0,o.p)(null!==(e=n.get("date"))&&void 0!==e?e:""):[],f=(0,o.p)(null!==(t=n.get("token"))&&void 0!==t?t:""),{options:h,queryResult:{isLoading:m,data:p}}=(0,i.L7)({resource:"auth/sales_team",optionValue:e=>e.uuid,optionLabel:e=>e.name,meta:{headers:{Authorization:"Bearer ".concat(f)}},hasPagination:!1});function g(e){console.log(e);let t=new Date(e),n=String(t.getDate()).padStart(2,"0"),r=String(t.getMonth()+1).padStart(2,"0"),a=t.getFullYear();return"".concat(n,"/").concat(r,"/").concat(a)}let b=[{field:"customer_name",headerName:"Company Name",width:250},{field:"Amount",headerName:"Total Amount",width:100,renderCell:function(e){let t,{row:n}=e,a=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2});return t=n.amount,(0,r.jsx)("div",{children:a.format(t)})}},{field:"created_at",headerName:"Added On",width:170,renderCell:function(e){let{row:t}=e;return(0,r.jsx)("p",{children:g(t.createdAt)})}},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function(e){let{row:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.w6,{hideText:!0,recordItemId:t._id}),(0,r.jsx)(l.m1,{hideText:!0,recordItemId:t._id,meta:{headers:{Authorization:"Bearer ".concat(f)}}})]})},align:"center",headerAlign:"center",minWidth:120}];s.includes("admin")&&b.unshift({field:"spid",headerName:"Added by",type:"singleSelect",headerAlign:"left",sortable:!1,align:"left",maxWidth:250,flex:.5,valueOptions:h,valueFormatter:e=>e.value,renderCell:function(e){let{row:t}=e;if(console.log(t),m)return"Loading...";{let e=h.find(e=>t.spid===e.value);return null==e?void 0:e.label}}});let{dataGridProps:v}=(0,l.LU)({pagination:{current:1,pageSize:100,mode:"off"},filters:{mode:"off"},sorters:{mode:"off"},meta:{headers:{Authorization:"Bearer ".concat(f)}}}),{triggerExport:x,isLoading:A}=(0,i.S)({resource:"edpl/collection_data",meta:{headers:{Authorization:"Bearer ".concat(f)}},mapData:e=>{var t;return{...e,spid:null===(t=h.find(t=>e.spid===t.value))||void 0===t?void 0:t.label,added_on:g(e.createdAt)}}});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.aV,{title:"Daily Collection",headerButtons:e=>{let{defaultButtons:t}=e;return(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(c.Z,{children:(0,r.jsx)(u.Z,{onClick:()=>x(),disabled:A,variant:"contained",color:"primary",children:"Export"})})]})},children:(0,r.jsx)(a._$,{className:"",getRowId:e=>e._id,...v,columns:b,disableVirtualization:!0,columnBuffer:50,autoHeight:!0})})})}},23019:function(e,t,n){"use strict";n.d(t,{H:function(){return l},p:function(){return o}});let r=n(68989),a="bf3c199c2470cb477d907b1e0917c17b",i="5183666c72eec9e4",l=e=>{let t=Array.isArray(e)?JSON.stringify(e):e.toString(),n=r.createCipheriv("aes-256-cbc",a,i);return n.update(t,"utf8","base64")+n.final("base64")},o=e=>{let t=r.createDecipheriv("aes-256-cbc",a,i),n=t.update(e,"base64","utf8");n+=t.final("utf8");try{return JSON.parse(n)}catch(e){return n}}}},function(e){e.O(0,[7999,936,8218,2957,7258,4349,4440,7571,4243,4799,4272,2971,2117,1744],function(){return e(e.s=84011)}),_N_E=e.O()}]);