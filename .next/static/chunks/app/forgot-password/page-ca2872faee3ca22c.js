(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9781,4011],{24654:function(){},95412:function(e,t,r){Promise.resolve().then(r.bind(r,65043)),Promise.resolve().then(r.bind(r,16558))},23019:function(e,t,r){"use strict";r.d(t,{H:function(){return a},p:function(){return i}});let n=r(68989),o="bf3c199c2470cb477d907b1e0917c17b",s="5183666c72eec9e4",a=e=>{let t=Array.isArray(e)?JSON.stringify(e):e.toString(),r=n.createCipheriv("aes-256-cbc",o,s);return r.update(t,"utf8","base64")+r.final("base64")},i=e=>{let t=n.createDecipheriv("aes-256-cbc",o,s),r=t.update(e,"base64","utf8");r+=t.final("utf8");try{return JSON.parse(r)}catch(e){return r}}},65043:function(e,t,r){"use strict";r.d(t,{AuthPage:function(){return s}});var n=r(57437),o=r(21348);let s=e=>(0,n.jsx)(o.Wk,{...e,formProps:{}})},16558:function(e,t,r){"use strict";r.r(t),r.d(t,{API_URL:function(){return a},authProvider:function(){return u},photos:function(){return i}});var n=r(83464),o=r(64131),s=r(23019),a="",i="";a="http://195.35.22.220:8080/api/";let u={login:async e=>{let{email:t,password:r,remember:i}=e;try{let e={method:"POST",url:"".concat(a,"auth/sales_team/login"),headers:{"content-type":"application/json"},data:{email:t,password:r}},{data:u}=await n.Z.request(e);if(JSON.parse(JSON.stringify(u)),null==u)return{success:!1,error:{name:"LoginError",message:"Invalid username or password"}};{let{message:e,access:t,uuid:r}=u;return o.Z.set("token",(0,s.H)(e),{expires:i?30:1,path:"/"}),o.Z.set("date",(0,s.H)(t.toString()),{expires:i?30:1,path:"/"}),o.Z.set("uuid",r,{expires:i?30:1,path:"/"}),window.location.href="/approvedProjects?pageSize=100&current=1",{success:!0}}}catch(e){return console.error("Login error:",e),{success:!1,error:{name:"LoginError",message:"Invalid username or password"}}}},logout:async()=>(o.Z.remove("date",{path:"/"}),o.Z.remove("date",{path:"/"}),o.Z.remove("token",{path:"/"}),window.location.href="/login",{success:!0}),check:async()=>{let e=o.Z.get("token"),t=o.Z.get("date"),r=o.Z.get("uuid");return e&&t&&r?{authenticated:!0}:{authenticated:!1,logout:!0,redirectTo:"/"}},getPermissions:async()=>o.Z.get("date")||null,getIdentity:async()=>o.Z.get("date")||null,onError:async e=>{var t;return(console.log(e),(null===(t=e.response)||void 0===t?void 0:t.status)===401)?{logout:!0}:{error:e}}}}},function(e){e.O(0,[7999,936,8218,2957,7258,4349,4440,3825,2971,2117,1744],function(){return e(e.s=95412)}),_N_E=e.O()}]);