(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9648],{24654:function(){},32031:function(e,t,r){Promise.resolve().then(r.bind(r,54369))},54369:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var a=r(57437),i=r(74799),n=r(72135),d=r(21348),l=r(23019);r(2265);var o=r(54321),u=r(89800),c=r(91991);function s(){var e,t;let r=(0,o.useCookies)(),s=(0,l.p)(null!==(e=r.get("token"))&&void 0!==e?e:""),m=null!=r.get("date")?(0,l.p)(null!==(t=r.get("date"))&&void 0!==t?t:""):[],{options:f,queryResult:{isLoading:h,data:p}}=(0,n.L7)({resource:"auth/sales_team",optionValue:e=>e.uuid,optionLabel:e=>e.name,meta:{headers:{Authorization:"Bearer ".concat(s)}},hasPagination:!1}),g=[{field:"company_name",headerName:"Company Name",width:200},{field:"item_type",headerName:"Item Type",width:250},{field:"item_name",headerName:"Item Name",width:250},{field:"item_qty",headerName:"Item Quantity",width:100},{field:"Total",headerName:"Total Amount",width:100,renderCell:function(e){let t,{row:r}=e,i=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2});return t="Veneer"===r.item_type?r.item_qty*r.item_rate*r.v_width*r.v_length:r.item_qty*r.item_rate,(0,a.jsx)("div",{children:i.format(t)})}},{field:"from",headerName:"Date",width:170,renderCell:function(e){let{row:t}=e;return(0,a.jsx)(d.Nn,{format:"d/M/YYYY",value:t.created_at})}},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function(e){let{row:t}=e;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.w6,{hideText:!0,recordItemId:t._id}),(0,a.jsx)(d.m1,{hideText:!0,recordItemId:t._id,meta:{headers:{Authorization:"Bearer ".concat(s)}}})]})},align:"center",headerAlign:"center",minWidth:120}];m.includes("admin")&&g.unshift({field:"spid",headerName:"Added by",sortable:!1,type:"singleSelect",headerAlign:"left",align:"left",maxWidth:250,flex:.5,valueOptions:f,valueFormatter:e=>e.value,renderCell:function(e){let{row:t}=e;if(console.log(t),h)return"Loading...";{let e=f.find(e=>t.spid===e.value);return null==e?void 0:e.label}}});let{dataGridProps:_}=(0,d.LU)({pagination:{current:1,pageSize:100,mode:"off"},filters:{mode:"off"},sorters:{mode:"off"},meta:{headers:{Authorization:"Bearer ".concat(s)}}}),{triggerExport:v,isLoading:b}=(0,n.S)({resource:"edpl/dispatch",meta:{headers:{Authorization:"Bearer ".concat(s)}},mapData:e=>{var t;return{...e,spid:null===(t=f.find(t=>e.spid===t.value))||void 0===t?void 0:t.label}}});return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(d.aV,{title:"Dispatch Records",headerButtons:e=>{let{defaultButtons:t}=e;return(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(u.Z,{children:(0,a.jsx)(c.Z,{onClick:()=>v(),disabled:b,variant:"contained",color:"primary",children:"Export"})})]})},children:(0,a.jsx)(i._$,{className:"",getRowId:e=>e._id,..._,columns:g,disableVirtualization:!0,columnBuffer:50,autoHeight:!0})})})}},23019:function(e,t,r){"use strict";r.d(t,{H:function(){return d},p:function(){return l}});let a=r(68989),i="bf3c199c2470cb477d907b1e0917c17b",n="5183666c72eec9e4",d=e=>{let t=Array.isArray(e)?JSON.stringify(e):e.toString(),r=a.createCipheriv("aes-256-cbc",i,n);return r.update(t,"utf8","base64")+r.final("base64")},l=e=>{let t=a.createDecipheriv("aes-256-cbc",i,n),r=t.update(e,"base64","utf8");r+=t.final("utf8");try{return JSON.parse(r)}catch(e){return r}}}},function(e){e.O(0,[7999,936,8218,2957,7258,4349,4440,7571,4243,4799,4272,2971,2117,1744],function(){return e(e.s=32031)}),_N_E=e.O()}]);