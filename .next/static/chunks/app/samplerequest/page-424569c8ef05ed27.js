(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6574],{24654:function(){},49134:function(e,n,t){Promise.resolve().then(t.bind(t,20684))},76025:function(e,n,t){"use strict";var r=t(9973);n.Z=void 0;var a=r(t(59815)),i=t(57437);n.Z=(0,a.default)((0,i.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"CheckCircleOutline")},59815:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r.createSvgIcon}});var r=t(72905)},4027:function(e,n,t){"use strict";var r=t(16973);n.Z=r.Z},72905:function(e,n,t){"use strict";t.r(n),t.d(n,{capitalize:function(){return a.Z},createChainedFunction:function(){return i.Z},createSvgIcon:function(){return u.Z},debounce:function(){return o.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return c.Z},ownerDocument:function(){return d.Z},ownerWindow:function(){return s.Z},requirePropFactory:function(){return f},setRef:function(){return m},unstable_ClassNameGenerator:function(){return Z},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return h.Z},unsupportedProp:function(){return v},useControlled:function(){return g.Z},useEventCallback:function(){return b.Z},useForkRef:function(){return y.Z},useIsFocusVisible:function(){return _.Z}});var r=t(56063),a=t(85657),i=t(4027),u=t(32464),o=t(24801),l=function(e,n){return()=>null},c=t(93513),d=t(2262),s=t(77636);t(1119);var f=function(e,n){return()=>null},m=t(29419).Z,p=t(84217),h=t(32709),v=function(e,n,t,r,a){return null},g=t(67184),b=t(9665),y=t(60118),_=t(32525);let Z={configure:e=>{r.Z.configure(e)}}},23019:function(e,n,t){"use strict";t.d(n,{H:function(){return u},p:function(){return o}});let r=t(68989),a="bf3c199c2470cb477d907b1e0917c17b",i="5183666c72eec9e4",u=e=>{let n=Array.isArray(e)?JSON.stringify(e):e.toString(),t=r.createCipheriv("aes-256-cbc",a,i);return t.update(n,"utf8","base64")+t.final("base64")},o=e=>{let n=r.createDecipheriv("aes-256-cbc",a,i),t=n.update(e,"base64","utf8");t+=n.final("utf8");try{return JSON.parse(t)}catch(e){return t}}},20684:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return m}});var r=t(57437),a=t(74799),i=t(72135),u=t(59832),o=t(76025),l=t(21348),c=t(23019);t(2265);var d=t(54321),s=t(89800),f=t(91991);function m(){var e,n;let t=(0,d.useCookies)(),{mutate:m}=(0,i.PQ)(),p=(0,c.p)(null!==(e=t.get("token"))&&void 0!==e?e:""),{options:h,queryResult:{isLoading:v,data:g}}=(0,i.L7)({resource:"edpl/company",optionValue:e=>e._id,optionLabel:e=>e.name,meta:{headers:{Authorization:"Bearer ".concat(p)}},hasPagination:!1}),{options:b,queryResult:{isLoading:y,data:_}}=(0,i.L7)({resource:"auth/sales_team",optionValue:e=>e.uuid,optionLabel:e=>e.name,meta:{headers:{Authorization:"Bearer ".concat(p)}},hasPagination:!1}),Z=null!=t.get("date")?(0,c.p)(null!==(n=t.get("date"))&&void 0!==n?n:""):[],x=[{field:"company_name",headerName:"Company Name",type:"singleSelect",headerAlign:"left",align:"left",maxWidth:250,flex:.5,valueOptions:h,valueFormatter:e=>e.value,renderCell:function(e){let{row:n}=e;if(v)return"Loading...";{let e=h.find(e=>n.company_name===e.value);return null==e?void 0:e.label}}},{field:"type",headerName:"Request Type",width:100},{field:"catalogue_selection",headerName:"Sample Type",width:200,renderCell:function(e){var n;let{row:t}=e;return(null===(n=t.data)||void 0===n?void 0:n.catalogue_selection)||""}},{field:"from",headerName:"Requested On",width:170,renderCell:function(e){let{row:n}=e;return(0,r.jsx)(l.Nn,{format:"D/M/YYYY",value:n.createdAt})}},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function(e){let{row:n}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.pH,{hideText:!0,recordItemId:n._id,meta:{headers:{Authorization:"Bearer ".concat(p)}}}),(0,r.jsx)(l.m1,{hideText:!0,recordItemId:n._id,meta:{headers:{Authorization:"Bearer ".concat(p)}}}),(0,r.jsx)(u.Z,{onClick:()=>C(n),"aria-label":"delete",color:"primary",children:(0,r.jsx)(o.Z,{onClick:()=>C(n),color:!0===n.sentsample?"primary":"disabled"})})]})},align:"center",headerAlign:"center",minWidth:120}];function C(e){m({resource:"edpl/sample_requests",id:e._id,values:{sentsample:!0!==e.sentsample},meta:{method:"put",headers:{Authorization:"Bearer ".concat(p)}}})}Z.includes("admin")&&x.unshift({field:"spid",headerName:"Added by",type:"singleSelect",sortable:!1,headerAlign:"left",align:"left",maxWidth:200,flex:.5,valueOptions:b,valueFormatter:e=>e.value,renderCell:function(e){let{row:n}=e;if(v)return"Loading...";{let e=b.find(e=>n.spid===e.value);return null==e?void 0:e.label}}});let{dataGridProps:j}=(0,l.LU)({pagination:{current:1,pageSize:100,mode:"off"},filters:{mode:"off"},sorters:{mode:"off"},meta:{headers:{Authorization:"Bearer ".concat(p)}},onSearch:e=>[{field:"name",operator:"contains",value:e.name}]}),{triggerExport:A,isLoading:N}=(0,i.S)({resource:"edpl/sample_requests",meta:{headers:{Authorization:"Bearer ".concat(p)}},mapData:e=>{var n,t;return{...e,spid:null===(n=b.find(n=>e.spid===n.value))||void 0===n?void 0:n.label,company_name:null===(t=h.find(n=>e.company_name===n.value))||void 0===t?void 0:t.label,data:JSON.stringify(e.data)}}});return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.aV,{title:"Sample Request",headerButtons:e=>{let{defaultButtons:n}=e;return(0,r.jsxs)(r.Fragment,{children:[n,(0,r.jsx)(s.Z,{children:(0,r.jsx)(f.Z,{onClick:()=>A(),disabled:N,variant:"contained",color:"primary",children:"Export"})})]})},children:(0,r.jsx)(a._$,{getRowId:e=>e._id,...j,columns:x,autoHeight:!0})})})}}},function(e){e.O(0,[7999,936,8218,2957,7258,4349,4440,7571,4243,4799,4272,2971,2117,1744],function(){return e(e.s=49134)}),_N_E=e.O()}]);