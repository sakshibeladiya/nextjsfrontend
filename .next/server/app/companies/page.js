(()=>{var e={};e.id=3964,e.ids=[3964],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},87175:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>c,pages:()=>l,routeModule:()=>m,tree:()=>p}),r(99029),r(49058),r(46209),r(59198);var a=r(30170),s=r(45002),o=r(83876),i=r.n(o),n=r(66299),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(t,d);let p=["",{children:["companies",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,99029)),"/Users/rajatbeladiya/Desktop/sakshi/gitProjects/nextjsfrontend/src/app/companies/page.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,49058)),"/Users/rajatbeladiya/Desktop/sakshi/gitProjects/nextjsfrontend/src/app/companies/layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,50592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,46209)),"/Users/rajatbeladiya/Desktop/sakshi/gitProjects/nextjsfrontend/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,59198)),"/Users/rajatbeladiya/Desktop/sakshi/gitProjects/nextjsfrontend/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,50592))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],l=["/Users/rajatbeladiya/Desktop/sakshi/gitProjects/nextjsfrontend/src/app/companies/page.tsx"],c="/companies/page",u={require:r,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/companies/page",pathname:"/companies",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:p}})},68576:(e,t,r)=>{Promise.resolve().then(r.bind(r,87278))},51999:(e,t,r)=>{Promise.resolve().then(r.bind(r,66927))},87278:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(97247),s=r(77424),o=r(38727),i=r(29730),n=r(97720),d=r(99219),p=r(13817),l=r(71804),c=r(34178);async function u({children:e}){let t=await m();return t.authenticated?a.jsx(n.Z,{theme:o.c,children:a.jsx(p.qP,{Title:({collapsed:e})=>a.jsx(s.D,{collapsed:e}),initialSiderCollapsed:!0,Header:i.h,children:e})}):(0,c.redirect)(t?.redirectTo||"/login")}async function m(){let e=(0,l.useCookies)(),{authenticated:t,redirectTo:r}=await d.L1.check(e.get());return{authenticated:t,redirectTo:r}}r(28964)},66927:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(97247),s=r(82633),o=r(40548),i=r(13817),n=r(99931);r(28964);var d=r(71804),p=r(68536),l=r(74247);function c(){let e=(0,d.useCookies)(),t=null!=e.get("date")?(0,n.p)(e.get("date")??""):[],r=(0,n.p)(e.get("token")??""),{options:c,queryResult:{isLoading:u,data:m}}=(0,o.L7)({resource:"auth/sales_team",optionValue:e=>e.uuid,optionLabel:e=>e.name,meta:{headers:{Authorization:`Bearer ${r}`}},hasPagination:!1});function h(e){let t=new Date(e),r=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),s=t.getFullYear();return`${r}/${a}/${s}`}let _=[{field:"name",headerName:"Name",width:250,valueGetter:e=>e.row.name?.toUpperCase()},{field:"date",headerName:"Date",width:150,valueGetter:e=>h(e.row.createdAt)},{field:"person_to_contact",headerName:"Person To Contact",width:200,valueGetter:e=>{let t=e.row.person_to_contact||[];return t.length>0&&t[0]&&t[0].company_person_name?t[0].company_person_name.toString().toUpperCase():""}},{field:"address1",headerName:"Address 1",width:400,valueGetter:e=>e.row.address.address1},{field:"address2",headerName:"Address 2",width:400,valueGetter:e=>e.row.address.address2},{field:"state",headerName:"State",width:200,valueGetter:e=>e.row.address.state},{field:"city",headerName:"City",width:200,valueGetter:e=>e.row.address.city},{field:"pincode",headerName:"Pincode",width:200,valueGetter:e=>e.row.address.pincode},{field:"customer_type",headerName:"Customer Type",width:200},{field:"customer_grade",headerName:"Customer Grade",width:200},{field:"customer_history",headerName:"Customer History",width:200},{field:"actions",headerName:"Actions",sortable:!1,renderCell:function({row:e}){return(0,a.jsxs)(a.Fragment,{children:[a.jsx(i.w6,{hideText:!0,recordItemId:e._id}),t.includes("admin")?a.jsx(i.m1,{hideText:!0,recordItemId:e._id,meta:{headers:{Authorization:`Bearer ${r}`}}}):a.jsx(a.Fragment,{})]})},align:"center",headerAlign:"center",minWidth:120}];t.includes("admin")&&_.unshift({field:"sid",headerName:"Added by",type:"singleSelect",headerAlign:"left",align:"left",minWidth:300,flex:.5,sortable:!1,valueOptions:c,valueFormatter:e=>e.value,renderCell:function({row:e}){if(u)return"Loading...";{let t=c.find(t=>e.sid===t.value);return t?.label?.toUpperCase()}}});let{dataGridProps:f,setSorter:x}=(0,i.LU)({pagination:{current:1,pageSize:100,mode:"off"},filters:{mode:"off"},sorters:{mode:"off"},meta:{headers:{Authorization:`Bearer ${r}`}}}),{filterMode:g,filterModel:y,onFilterModelChange:v,...j}=f,{triggerExport:w,isLoading:P}=(0,o.S)({resource:"edpl/company",meta:{headers:{Authorization:`Bearer ${r}`}},mapData:e=>{var t=e.address||{},r=e.person_to_contact||[],a={id:e._id,name:e.name,added_by:c.find(t=>e.sid===t.value)?.label.toUpperCase(),address1:(t.address1||"").toUpperCase(),address2:(t.address2||"").toUpperCase(),state:(t.state||"").toUpperCase(),pincode:(t.pincode||"").toUpperCase(),city:(t.city||"").toUpperCase(),district:(t.district||"").toUpperCase(),landmark:(t.landmark||"").toUpperCase(),first_visited:h(e.first_visited),next_visit:h(e.next_visit)};r.length>0&&r.forEach((e,t)=>{a["person_to_contact_"+(t+1)]=e.company_person_name,a["company_person_email_"+(t+1)]=e.company_person_email,a["company_person_pno_"+(t+1)]=e.company_person_pno});var s=[];return Array.isArray(r)?r.forEach(e=>{if(Array.isArray(e)){var t={};e.forEach((e,r)=>{let a=r+1;t[`person_to_contact_${a}`]=(e.company_person_name||"").toUpperCase(),t[`company_person_email_${a}`]=(e.company_person_email||"").toUpperCase(),t[`company_person_pno_${a}`]=(e.company_person_pno||"").toUpperCase()});for(let r=e.length+1;r<=5;r++)t[`person_to_contact_${r}`]="",t[`company_person_email_${r}`]="",t[`company_person_pno_${r}`]="";s.push(t)}else console.error("Expected an array for contactList, but got:",e)}):console.error("Expected an array for person_to_contact, but got:",r),a}});return a.jsx(a.Fragment,{children:a.jsx(i.aV,{title:"Company List",headerButtons:({defaultButtons:e})=>(0,a.jsxs)(a.Fragment,{children:[e,a.jsx(p.Z,{children:a.jsx(l.Z,{onClick:()=>w(),disabled:P,variant:"contained",color:"primary",children:"Export"})})]}),children:a.jsx(s._$,{getRowId:e=>e._id,...f,columns:_,onSortModelChange:(e,t)=>{f.onSortModelChange(e,t)},autoHeight:!0})})})}},49058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(45347).createProxy)(String.raw`/Users/rajatbeladiya/Desktop/sakshi/gitProjects/nextjsfrontend/src/app/companies/layout.tsx#default`)},99029:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(45347).createProxy)(String.raw`/Users/rajatbeladiya/Desktop/sakshi/gitProjects/nextjsfrontend/src/app/companies/page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[9379,1005,9223,2323,2633,5934,9319],()=>r(87175));module.exports=a})();